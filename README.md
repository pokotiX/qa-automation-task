# Task Management API - QA Automation Assignment

[![CI/CD Pipeline](https://github.com/pokotiX/qa-automation-task/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/pokotiX/qa-automation-task/actions/workflows/ci-cd.yml)
[![Java 21](https://img.shields.io/badge/Java-21-orange.svg)](https://openjdk.java.net/projects/jdk/21/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Maven](https://img.shields.io/badge/Maven-3.6+-blue.svg)](https://maven.apache.org/)

This project demonstrates a backend test automation solution with a Spring Boot REST API and test automation framework using Rest Assured.

## Quick Start

```bash
mvn clean compile
mvn spring-boot:run
```

The API will be available at: `http://localhost:8080/api`

## Prerequisites

- Java 21
- Maven 3.6 or higher

## Running Tests

### Local Testing
```bash
mvn test
```

### CI/CD Testing
Tests automatically run on every push and pull request via GitHub Actions.

## API Endpoints

### Core Operations
- `POST /api/tasks` - Create a new task
- `GET /api/tasks` - Get all tasks
- `GET /api/tasks/{id}` - Get task by ID
- `PUT /api/tasks/{id}` - Update task
- `DELETE /api/tasks/{id}` - Delete task

### Additional Features
- `GET /api/tasks/status/{status}` - Get tasks by status
- `GET /api/tasks/priority/{priority}` - Get tasks by priority
- `GET /api/tasks/search?title={title}` - Search tasks by title
- `GET /api/tasks/health` - Health check

### API Architecture
The API follows RESTful principles and Spring Boot best practices:
- **Layered Architecture**: Controller → Service → Repository → Model
- **DTO Pattern**: Separate request/response objects for data transfer
- **JPA Integration**: Spring Data JPA with custom query methods
- **Transaction Management**: @Transactional for data consistency
- **Cross-Origin Support**: CORS enabled for frontend integration
- **HTTP Status Codes**: Proper REST status codes (201, 200, 404, 204)

### Task Model
```json
{
  "title": "Task Title",
  "description": "Task Description",
  "priority": "LOW|MEDIUM|HIGH|URGENT",
  "status": "TODO|IN_PROGRESS|REVIEW|DONE|CANCELLED",
  "dueDate": "2024-01-01T10:00:00"
}
```

### Data Model Architecture
The application uses a clean, normalized data model:
- **JPA Entity**: Task class with proper annotations (@Entity, @Table, @Column)
- **Audit Fields**: createdAt and updatedAt for tracking changes
- **Flexible Design**: String-based enums for easy extension
- **Database Schema**: Auto-generated by Hibernate with proper constraints
- **Data Validation**: Basic validation at the application layer

## Test Automation Framework

### Test Structure
The test automation framework includes:
- API endpoint testing with Rest Assured
- CRUD operation validation using JUnit 5
- Basic error handling tests (404 scenarios)
- Integration testing with embedded H2 database

### Test Features
- **Rest Assured**: HTTP requests, JSON validation, and assertions
- **Spring Boot Test**: Full application context for integration testing
- **H2 Database**: In-memory database for isolated test execution
- **Test Coverage**: All CRUD operations, filtering, and search endpoints
- **Professional Naming**: BDD-style test method names (shouldCreateNewTask, shouldRetrieveTaskById)

### Test Architecture
The framework follows industry best practices:
- **@SpringBootTest**: Loads complete application context
- **@LocalServerPort**: Dynamically assigns ports for parallel test execution
- **BeforeEach**: Sets up RestAssured configuration for each test
- **Assertions**: Uses JUnit 5 assertions for clear test validation

## Project Structure

```
qa-automation-task/
├── src/
│   ├── main/java/com/qa/taskapi/
│   │   ├── TaskApiApplication.java
│   │   ├── controller/TaskController.java
│   │   ├── controller/GlobalExceptionHandler.java
│   │   ├── service/TaskService.java
│   │   ├── repository/TaskRepository.java
│   │   ├── model/Task.java
│   │   └── dto/
│   │       ├── TaskRequest.java
│   │       └── TaskResponse.java
│   └── test/java/com/qa/taskapi/
│       └── test/api/TaskApiTest.java
├── .github/workflows/ci-cd.yml
├── pom.xml
├── README.md
└── TEST_REPORT.md
```

## Configuration

### Application Properties
- Server port: `8080`
- Database: H2 (in-memory)
- JPA: Auto-create tables
- Basic logging enabled

## Building and Running

### Build JAR
```bash
mvn clean package
```

### Run JAR
```bash
java -jar target/taskapi-1.0.0.jar
```

## Testing the API

### Health Check
```bash
curl http://localhost:8080/api/tasks/health
```

### Create Task
```bash
curl -X POST -H "Content-Type: application/json" \
  -d '{"title":"Test Task","priority":"HIGH","status":"TODO"}' \
  http://localhost:8080/api/tasks
```

### Get All Tasks
```bash
curl http://localhost:8080/api/tasks
```

## CI/CD Status

Check the current pipeline status: [GitHub Actions](https://github.com/pokotiX/qa-automation-task/actions)

## Notes

- Uses an in-memory H2 database (data is lost on restart)
- Basic error handling without complex validation
- Simple test automation framework
- Includes CI/CD pipeline

## Support

For questions or issues:
1. Check the console logs for error information
2. Verify Java and Maven versions
3. Ensure all dependencies are resolved
4. Check GitHub Actions for CI/CD status

## Additional Resources

- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [Rest Assured Documentation](https://rest-assured.io/)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)
